CREATE TABLE Customer_Classification (
    Customer_Classification_ID INT PRIMARY KEY,
    Customer_Classification_Type VARCHAR(100) NOT NULL,
    Customer_Classification_Type_Value VARCHAR(100) NOT NULL,
    Effective_Date DATE NOT NULL
);


INSERT INTO Customer_Classification (Customer_Classification_ID, Customer_Classification_Type, Customer_Classification_Type_Value, Effective_Date)
VALUES
(1, 'ID Type', 'Passport', '2025-01-01'),
(2, 'Name Type', 'Full Name', '2025-01-01'),
(3, 'Customer Type', 'VIP', '2025-01-01');
CREATE TABLE Customer_Identification (
    Customer_Identification_ID INT PRIMARY KEY,
    Customer_Identifier INT NOT NULL,
    Customer_Identification_Type VARCHAR(100) NOT NULL,
    Customer_Identification_Item VARCHAR(255) NOT NULL,
    Effective_Date DATE NOT NULL
    );


INSERT INTO Customer_Identification (Customer_Identification_ID, Customer_Identifier, Customer_Identification_Type, Customer_Identification_Item, Effective_Date)
VALUES
(1, 1001, 'Passport', 'P123456789', '2025-01-01'),
(2, 1002, 'Phone', '9876543210', '2025-01-01');
CREATE TABLE Customer_Details (
    Customer_Number INT PRIMARY KEY,
    Customer_Type VARCHAR(50) NOT NULL,
    Customer_Full_Name VARCHAR(255) NOT NULL,
    Customer_DOB DATE,
    Customer_DOI DATE,
    Customer_Status VARCHAR(50),
    Customer_Contact_Number VARCHAR(15),
    Customer_Mobile_Number VARCHAR(15),
    Customer_Email_ID VARCHAR(100),
    Customer_Country_Of_Origination VARCHAR(50),
    Effective_Date DATE NOT NULL
);


INSERT INTO Customer_Details (Customer_Number, Customer_Type, Customer_Full_Name, Customer_DOB, Customer_Status, Customer_Contact_Number, Customer_Mobile_Number, Customer_Email_ID, Customer_Country_Of_Origination, Effective_Date)
VALUES
(1001, 'VIP', 'John Doe', '1980-01-01', 'Active', '1234567890', '9876543210', 'johndoe@example.com', 'USA', '2025-01-01'),
(1002, 'Regular', 'Jane Smith', '1990-02-02', 'Inactive', '2345678901', '8765432109', 'janesmith@example.com', 'UK', '2025-01-01');
CREATE TABLE Customer_Name (
    Customer_Identifier INT NOT NULL,
    Customer_Name_Component_Type INT NOT NULL,
    Customer_Name_Value VARCHAR(255) NOT NULL,
    Effective_Date DATE NOT NULL,
    FOREIGN KEY (Customer_Identifier) REFERENCES Customer_Details(Customer_Number),
    FOREIGN KEY (Customer_Name_Component_Type) REFERENCES Customer_Classification(Customer_Classification_ID)
);


INSERT INTO Customer_Name (Customer_Identifier, Customer_Name_Component_Type, Customer_Name_Value, Effective_Date)
VALUES
(1001, 2, 'John Doe', '2025-01-01'),
(1002, 2, 'Jane Smith', '2025-01-01');
CREATE TABLE Customer_Proof_Of_Identity (
    Customer_Identifier INT NOT NULL,
    Customer_Proof_Of_ID_Type INT NOT NULL,
    Customer_Classification_Type_Value VARCHAR(100) NOT NULL,
    Start_Date DATE NOT NULL,
    End_Date DATE NOT NULL,
    Effective_Date DATE NOT NULL,
    FOREIGN KEY (Customer_Identifier) REFERENCES Customer_Details(Customer_Number),
    FOREIGN KEY (Customer_Proof_Of_ID_Type) REFERENCES Customer_Classification(Customer_Classification_ID)
);


INSERT INTO Customer_Proof_Of_Identity (Customer_Identifier, Customer_Proof_Of_ID_Type, Customer_Classification_Type_Value, Start_Date, End_Date, Effective_Date)
VALUES
(1001, 1, 'P123456789', '2025-01-01', '2099-12-31', '2025-01-01'),
(1002, 1, 'P987654321', '2025-01-01', '2099-12-31', '2025-01-01');
CREATE TABLE Customer_Address (
    Customer_Identifier INT NOT NULL,
    Customer_Address_Component_Type INT NOT NULL,
    Customer_Address_Value VARCHAR(255) NOT NULL,
    Effective_Date DATE NOT NULL,
    FOREIGN KEY (Customer_Identifier) REFERENCES Customer_Details(Customer_Number),
    FOREIGN KEY (Customer_Address_Component_Type) REFERENCES Customer_Classification(Customer_Classification_ID)
);


INSERT INTO Customer_Address (Customer_Identifier, Customer_Address_Component_Type, Customer_Address_Value, Effective_Date)
VALUES
(1001, 3, '123 Main St, New York, NY', '2025-01-01'),
(1002, 3, '456 Elm St, London, UK', '2025-01-01');

show tables;

drop table customer_classification_type;
alter table customer_identification add constraint FOREIGN KEY (Customer_Identification_Type) REFERENCES Customer_Classification(Customer_Classification_ID);





create database stavy;
use stavy;
CREATE TABLE CUST_CL (
  CSTCL_ID BIGINT PRIMARY KEY,
  CSTCL_TYP VARCHAR(100),
  CSTCL_TYP_VALUE VARCHAR(100),
  CSTCL_EFCTV_DATE DATE,
  CSTCL_CRUD_VALUE char(1),
  CSTCL_USER_ID VARCHAR(100),
  CSTCL_WS_ID VARCHAR(100),
  CSTCL_PRGM_ID VARCHAR(100),
  CSTCL_HOST_TS TIMESTAMP,
  CSTCL_LOCAL_TS TIMESTAMP,
  CSTCL_ACPT_TS TIMESTAMP,
  CSTCL_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTCL_UUID VARCHAR(100)
);

CREATE TABLE CUST_ID (
  CST_ID BIGINT PRIMARY KEY,
  CUSTID_TYPE VARCHAR(100),
  CUSTID_ITEM VARCHAR(100) UNIQUE,
  CSTID_EFCTV_DATE DATE,
  CSTID_CRUD_VALUE char(1),
  CSTID_USER_ID VARCHAR(100),
  CSTID_WS_ID VARCHAR(100),
  CSTID_PRGM_ID VARCHAR(100),
  CSTID_HOST_TS TIMESTAMP,
  CSTID_LOCAL_TS TIMESTAMP,
  CSTID_ACPT_TS TIMESTAMP,
  CSTID_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTID_UUID VARCHAR(100)
);

CREATE TABLE CUST_DETAILS (
  CST_ID BIGINT PRIMARY KEY,
  CSTDET_TYPE VARCHAR(100), 
  CSTDET_DOB DATE,
  CSTDET_STATUS VARCHAR(100),
  CSTDET_CONTACT VARCHAR(100),
  CSTDET_MOBILE VARCHAR(100),
  CSTDET_EMAIL VARCHAR(100),
  CSTDET_EFCTV_DATE DATE,
  CSTDET_CRUD_VALUE char(1),
  CSTDET_USER_ID VARCHAR(100),
  CSTDET_WS_ID VARCHAR(100),
  CSTDET_PRGM_ID VARCHAR(100),
  CSTDET_HOST_TS TIMESTAMP,
  CSTDET_LOCAL_TS TIMESTAMP,
  CSTDET_ACPT_TS TIMESTAMP,
  CSTDET_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTDET_UUID VARCHAR(100),
  FOREIGN KEY (CST_ID) REFERENCES CUST_ID(CST_ID)
);

CREATE TABLE CUST_NAME (
  CST_ID BIGINT,
  CSTNAME_CLS_ID BIGINT,
  CSTNAME_VALUE VARCHAR(100),
  CSTNAME_EFCTV_DATE DATE,
  CSTNAME_CRUD_VALUE char(1),
  CSTNAME_USER_ID VARCHAR(100),
  CSTNAME_WS_ID VARCHAR(100),
  CSTNAME_PRGM_ID VARCHAR(100),
  CSTNAME_HOST_TS TIMESTAMP,
  CSTNAME_LOCAL_TS TIMESTAMP,
  CSTNAME_ACPT_TS TIMESTAMP,
  CSTNAME_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTNAME_UUID VARCHAR(100),
  PRIMARY KEY (CST_ID, CSTNAME_CLS_ID),
  FOREIGN KEY (CST_ID) REFERENCES cust_id(CST_ID),
  FOREIGN KEY (CSTNAME_CLS_ID) REFERENCES CUST_CL(CSTCL_ID)
);

CREATE TABLE CUST_POI (
  CST_ID BIGINT,
  CSTPOI_CLS_ID BIGINT,
  CSTPOI_VALUE VARCHAR(100) UNIQUE,
  CSTPOI_START DATE,
  CSTPOI_END DATE,
  CSTPOI_EFCTV_DATE DATE,
  CSTPOI_CRUD_VALUE char(1),
  CSTPOI_USER_ID VARCHAR(100),
  CSTPOI_WS_ID VARCHAR(100),
  CSTPOI_PRGM_ID VARCHAR(100),
  CSTPOI_HOST_TS TIMESTAMP,
  CSTPOI_LOCAL_TS TIMESTAMP,
  CSTPOI_ACPT_TS TIMESTAMP,
  CSTPOI_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTPOI_UUID VARCHAR(100),
  PRIMARY KEY (CST_ID, CSTPOI_CLS_ID),
  FOREIGN KEY (CST_ID) REFERENCES CUST_ID(CST_ID),
  FOREIGN KEY (CSTPOI_CLS_ID) REFERENCES CUST_CL(CSTCL_ID)
);

CREATE TABLE CUST_ADDRESS (
  CST_ID BIGINT,
  CSTADD_CLS_ID BIGINT,
  CSTADD_VALUE VARCHAR(100),
  CSTADD_EFCTV_DATE DATE,
  CSTADD_CRUD_VALUE char(1),
  CSTADD_USER_ID VARCHAR(100),
  CSTADD_WS_ID VARCHAR(100),
  CSTADD_PRGM_ID VARCHAR(100),
  CSTADD_HOST_TS TIMESTAMP,
  CSTADD_LOCAL_TS TIMESTAMP,
  CSTADD_ACPT_TS TIMESTAMP,
  CSTADD_ACPT_TS_UTC_OFST TIMESTAMP,
  CSTADD_UUID VARCHAR(100),
  PRIMARY KEY (CST_ID, CSTADD_CLS_ID),
  FOREIGN KEY (CST_ID) REFERENCES CUST_ID(CST_ID),
  FOREIGN KEY (CSTADD_CLS_ID) REFERENCES CUST_CL(CSTCL_ID)
);

Create table CUST_CI(
CST_ID BIGINT,
 CSTDET_CONTACT_T VARCHAR(50),
  CSTDET_CONTACT_V VARCHAR(100),
  CSTCL_EFCTV_DATE DATE,
  StartDate DATE,
  EndDate DATE,
  FOREIGN KEY (CST_ID) REFERENCES CUST_DETAILS(CST_ID)
);

INSERT INTO CUST_CL (
    CSTCL_ID, CSTCL_TYP, CSTCL_TYP_VALUE, CSTCL_EFCTV_DATE, CSTCL_CRUD_VALUE,
    CSTCL_USER_ID, CSTCL_WS_ID, CSTCL_PRGM_ID, CSTCL_HOST_TS, CSTCL_LOCAL_TS,
    CSTCL_ACPT_TS, CSTCL_ACPT_TS_UTC_OFST, CSTCL_UUID
)
VALUES
    (1, 'NAME', 'FIRST NAME', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1'),
    (2, 'NAME', 'MIDDLE_NAME', '2025-01-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid2'),
    (3, 'NAME', 'LAST_NAME', '2025-01-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid3'),
    (4, 'ADDRESS', 'COUNTRY', '2025-01-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid3'),
    (5, 'Proof of Identity', 'AADHAAR', '2025-01-01', 'D', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid3');


-- Insert statement for the CUST_ID table
INSERT INTO CUST_ID (
    CST_ID, CUSTID_TYPE, CUSTID_ITEM, CSTID_EFCTV_DATE, CSTID_CRUD_VALUE,
    CSTID_USER_ID, CSTID_WS_ID, CSTID_PRGM_ID, CSTID_HOST_TS, CSTID_LOCAL_TS,
    CSTID_ACPT_TS, CSTID_ACPT_TS_UTC_OFST, CSTID_UUID
)
VALUES
    (1001, 'Aadhaar', '7743 2445 4325', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001'),
    (1002, 'Passport', 'J8369854', '2025-01-02', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002'),
    (1003, 'Passport', 'D8369854', '2025-01-03', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003');

-- Insert statement for the CUST_POI table
-- can add a contraint that CSTPOI_CLS_ID should be POI in CUSTCL_TYPE
INSERT INTO CUST_POI (
    CST_ID, CSTPOI_CLS_ID, CSTPOI_VALUE, CSTPOI_START, CSTPOI_END, 
    CSTPOI_EFCTV_DATE, CSTPOI_CRUD_VALUE, CSTPOI_USER_ID, CSTPOI_WS_ID, CSTPOI_PRGM_ID, 
    CSTPOI_HOST_TS, CSTPOI_LOCAL_TS, CSTPOI_ACPT_TS, CSTPOI_ACPT_TS_UTC_OFST, CSTPOI_UUID
)
VALUES
    (1001, 5, '7743 2445 4325', '2025-01-01', '2025-01-31', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-POI'),
    (1002, 5, '7743 2443 2345', '2025-02-01', '2025-02-28', '2025-02-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002-POI'),
    (1003, 5, '5643 8334 6554', '2025-03-01', '2025-03-31', '2025-03-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003-POI');

  -- Insert statement for the CUST_ADDRESS table
INSERT INTO CUST_ADDRESS (
    CST_ID, CSTADD_CLS_ID, CSTADD_VALUE, CSTADD_EFCTV_DATE, CSTADD_CRUD_VALUE, 
    CSTADD_USER_ID, CSTADD_WS_ID, CSTADD_PRGM_ID, CSTADD_HOST_TS, CSTADD_LOCAL_TS, 
    CSTADD_ACPT_TS, CSTADD_ACPT_TS_UTC_OFST, CSTADD_UUID
)
VALUES
    (1001, 4, 'INDIA','2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-ADDR'),
    (1002, 4, 'INDIA', '2025-02-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002-ADDR'),
    (1003, 4, 'USA', '2025-03-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003-ADDR');
    
-- Insert statement for the CUST_NAME table
INSERT INTO CUST_NAME (
    CST_ID, CSTNAME_CLS_ID, CSTNAME_VALUE, CSTNAME_EFCTV_DATE, CSTNAME_CRUD_VALUE,
    CSTNAME_USER_ID, CSTNAME_WS_ID, CSTNAME_PRGM_ID, CSTNAME_HOST_TS, CSTNAME_LOCAL_TS,
    CSTNAME_ACPT_TS, CSTNAME_ACPT_TS_UTC_OFST, CSTNAME_UUID
)
VALUES
    (1001, 1, 'Ram', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-NAME'),
    (1002, 1, 'John', '2025-02-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002-NAME'),
    (1003, 1, 'Arav', '2025-03-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003-NAME'),
	(1001, 2, 'Chathur', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-NAME'),
    (1002, 2, 'Adam', '2025-02-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002-NAME'),
    (1003, 2, '', '2025-03-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003-NAME'),
	(1001, 3, 'Singh', '2025-01-01', 'C', 'user1', 'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-NAME'),
    (1002, 3, 'Jones', '2025-02-01', 'C', 'user2', 'ws2', 'prgm2', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1002-NAME'),
    (1003, 3, 'Patel', '2025-03-01', 'C', 'user3', 'ws3', 'prgm3', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1003-NAME');



-- Insert statement for the CUST_DETAILS table
INSERT INTO CUST_DETAILS (
    CST_ID, CSTDET_TYPE, CSTDET_DOB, CSTDET_STATUS, CSTDET_CONTACT, 
    CSTDET_MOBILE, CSTDET_EMAIL, CSTDET_EFCTV_DATE, CSTDET_CRUD_VALUE, 
    CSTDET_USER_ID, CSTDET_WS_ID, CSTDET_PRGM_ID, CSTDET_HOST_TS, 
    CSTDET_LOCAL_TS, CSTDET_ACPT_TS, CSTDET_ACPT_TS_UTC_OFST, CSTDET_UUID
)
VALUES
    (1001, 'Individual', '1980-05-15', 'Active', 'John Doe', 
    '123-456-7890', 'johndoe@example.com', '2025-01-01', 'C', 'user1', 
    'ws1', 'prgm1', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP, 'uuid1001-DET');


create table user(id int primary key, user_id long, name varchar(20), email varchar(50));
drop table user;
insert into user values(12,23,"Stavya","hotmail@gmail.com");
select * from user;
use stavy;
show tables;
select * from cust_details;
